{% load static %}
{% load tz %}

  <body>
    <head>
      <meta charset="utf-8" />
      <meta name="Shreya Aman" content="Leaderboard" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous"/>
  
          <link rel="stylesheet" type="text/css" href="{% static 'app1/css/leaderbrdstyle.css' %}"> 
          <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
          <!-- <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css"> -->
  
        </head>
  
            <!-- Navbar goes here -->
            <nav class="navbar navbar-expand-lg navbarr">
              <div class="container-fluid">
                <a class="navbar-brand navvi" href="#" style="padding: 0px"
                  ><img src="{% static 'app1/images/clashwhite.png' %}" alt="Clash Logo" height="30px"
                /></a>
                <a class="navbar-brand navvi timer" href="#" style="margin-left: 20px"
                  >{{team.Time}}
                </a>
        
                <button
                  class="navbar-toggler"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#navbarSupportedContent"
                  aria-controls="navbarSupportedContent"
                  aria-expanded="false"
                  aria-label="Toggle navigation"
                >
                  <i class="fas fa-bars" style="color: white"></i>
                </button>
                <div
                  class="collapse navbar-collapse stroke"
                  id="navbarSupportedContent"
                >
                  <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                      <a
                        class="nav-link active navvi"
                        aria-current="page"
                        href="{% url 'leaderboard' %}"
                        style="margin-left: 10px; margin-right: 10px"
                        >Leaderboard</a
                      >
                    </li>
                    <li class="nav-item">
                      <a
                        class="nav-link active navvi"
                        aria-current="page"
                        href="{% url 'questions' %}"
                        style="margin-left: 10px; margin-right: 10px"
                        >Question Hub</a
                      >
                    </li>
                    <li class="nav-item">
                      <a
                        class="nav-link navvi"
                        aria-current="page"
                        href="{% url 'submission' %}"
                        style="margin-left: 10px; margin-right: 10px"
                        >Submissions</a
                      >
                    </li>
        
                    <li class="nav-item navvi">
                      <a
                        class="nav-link navvi"
                        style="margin-left: 10px; margin-right: 10px; cursor: pointer"
                        data-bs-toggle="modal"
                        data-bs-target="#LogoutModal"
                        >Logout</a
                      >
        
                      <!-- <button type="button" class="btn btn-primary">
                        Launch demo modal
                      </button> -->
        
                      <!-- Modal -->
                      <div
                        class="modal fade"
                        id="LogoutModal"
                        tabindex="-1"
                        aria-labelledby="LogoutModalLabel"
                        aria-hidden="true"
                      >
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="LogoutModalLabel">Alert!</h5>
                              <button
                                type="button"
                                class="btn-close"
                                data-bs-dismiss="modal"
                                aria-label="Close"
                              ></button>
                            </div>
                            <div class="modal-body text-center">
                              Are you sure you want to logout ?
                            </div>
                            <div class="modal-footer">
                              <button
                                type="button"
                                class="btn btn-secondary"
                                data-bs-dismiss="modal"
                              >
                                Cancel
                              </button>
                              <button type="submit" class="btn btn-danger">
                                <a href="{% url 'logout' %}">Logout</a>
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
                <a
                  class="navbar-brand navvi pisblogo"
                  href="#"
                  style="padding: 0px; margin-left: 20px"
                  ><img src="{% static 'app1/images/pisblogo.png' %}" alt="Clash Logo" height="30px"
                /></a>
              </div>
            </nav>
            <div class="searchbar">
            <form class="shbtn">
              <button class="shion"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
              </svg></ion-icon></button>
              <input type="text" id="input" placeholder="Search" onkeydown="searchElement()">
              <label for="input" aria-placeholder="Search" ></label>
            </form>
            </div>
            <!-- your code goes here -->
            <table id="example" class="display"></table>
            <!DOCTYPE html>
{% load static %}
{% load tz %}
<html lang="en">
    <head>
    <meta charset="utf-8" />
    <meta name="Shreya Aman" content="Leaderboard" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Bootstrap CSS -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous"
        />

        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
        <link rel="stylesheet" type="text/css" href="{% static 'app1/css/leaderbrdstyle.css' %}">
      

        <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    
      </head>
        <!-- Dataset -->

      <table id="example" class="display" >
            <thead>
            <tr>
                <th>Rank</th>
                <th>Username</th>
                <th>Q1</th>
                <th>Q2</th>
                <th>Q3</th>
                <th>Q4</th>
                <th>Score</th>
                <th>time</th>
            </tr>
            </thead>
            <tbody id="ex1">
              
          {% for team in teams %}
            <tr>
                <td>{{team.place}}</td>
                <td>{{team.user1}} {% if "user2" in team %}and {{team.user2}}{% endif %}</td>
                <td>{{team.score}} </td>
                <td>{{team.score}} </td>
                <td>{{team.score}} </td>
                <td>{{team.score}} </td>
                <!-- <td>{{team.attempted_question}} </td> -->
                <td>{{team.score}}</td>
                <td>{{team.Time|time:"h:i"}}</td>
            </tr>
        {% endfor %}
        </table>
            
          <!-- Footer goes here -->
          <footer class="text-center fixed-bottom footerr">
            <div class=" container-fluid">
                <div class="footer-text pt-3 pb-3">PISB <span>&copy</span></div>
            </div>
        </footer>
        </body>
        <style>
          .display tbody, td, tfoot, th, thead, tr {
              border-color: inherit;
              border-style: solid;
              border-width: 0;
              padding: 10px;
              /* margin-left: 1150px */
              
              margin: auto 14%;
              }

              table {
                    caption-side: bottom;
                    border-collapse: collapse;
                    width: 85%;
                    margin:auto;
                  }

          tr {
              display: table-row;
              vertical-align: inherit;
              height: 25px;
              color: #e6eefb;
              background-color:#071d24;
              border:1px solid black;
              padding: 15px;
          }
          th {
            background-color: #063d49;
            color: white;
          }
          /* tr:nth-child(even) {background-color: #f2f2f2;} */
          tr:hover {background-color: coral;}
          th, td {
            border-bottom: 1px solid #ddd;
          }
          th, td {
            padding: 15px;
            text-align: left;
          }
          </style>
    

    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"
        ></script>
        <script>
          function searchTeams() {
  var searchInput = document.getElementById("searchInput");
  var teamsTableBody = document.getElementById("teamsTableBody");
  var searchQuery = searchInput.value.toLowerCase();
  var teams = teamsTableBody.getElementsByTagName("tr");

  for (var i = 0; i < teams.length; i++) {
    var team = teams[i];
    var teamName = team.getElementsByTagName("td")[1];
    if (teamName) {
      var teamNameText = teamName.textContent || teamName.innerText;
      if (teamNameText.toLowerCase().includes(searchQuery)) {
        team.style.display = "";
      } else {
        team.style.display = "none";
      }
    }
  }
}

var searchInput = document.getElementById("searchInput");
searchInput.addEventListener("keydown", searchTeams);

        </script>
</html>
